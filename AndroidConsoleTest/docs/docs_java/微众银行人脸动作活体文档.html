<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<style>.hljs{display:block;overflow-x:auto;padding:0.5em;background:#F0F0F0}.hljs,.hljs-subst{color:#444}.hljs-comment{color:#888888}.hljs-keyword,.hljs-attribute,.hljs-selector-tag,.hljs-meta-keyword,.hljs-doctag,.hljs-name{font-weight:bold}.hljs-type,.hljs-string,.hljs-number,.hljs-selector-id,.hljs-selector-class,.hljs-quote,.hljs-template-tag,.hljs-versiondeletion{color:#880000}.hljs-title,.hljs-section{color:#880000;font-weight:bold}.hljs-regexp,.hljs-symbol,.hljs-variable,.hljs-template-variable,.hljs-link,.hljs-selector-attr,.hljs-selector-pseudo{color:#BC6060}.hljs-literal{color:#78A960}.hljs-built_in,.hljs-bullet,.hljs-code,.hljs-addition{color:#397300}.hljs-meta{color:#1f7199}.hljs-meta-string{color:#4d99bf}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:bold}</style><style>
.hljs{display:block;overflow-x:auto;padding:0.5em;background:#F0F0F0}.hljs,.hljs-subst{color:#444}.hljs-comment{color:#888888}.hljs-keyword,.hljs-attribute,.hljs-selector-tag,.hljs-meta-keyword,.hljs-doctag,.hljs-name{font-weight:bold}.hljs-type,.hljs-string,.hljs-number,.hljs-selector-id,.hljs-selector-class,.hljs-quote,.hljs-template-tag,.hljs-versiondeletion{color:#880000}.hljs-title,.hljs-section{color:#880000;font-weight:bold}.hljs-regexp,.hljs-symbol,.hljs-variable,.hljs-template-variable,.hljs-link,.hljs-selector-attr,.hljs-selector-pseudo{color:#BC6060}.hljs-literal{color:#78A960}.hljs-built_in,.hljs-bullet,.hljs-code,.hljs-addition{color:#397300}.hljs-meta{color:#1f7199}.hljs-meta-string{color:#4d99bf}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:bold}
 /*!
 * Primer-product
 * http://primer.github.io
 *
 * Released under MIT license. Copyright (c) 2018 GitHub Inc.
 */
 a{text-decoration: none;} 
.multimarkdown-preview {
    font-family: -apple-system,BlinkMacSystemFont,Segoe UI,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol !important;
    font-size: 16px;
    line-height: 1.5;
    word-wrap: break-word;
    width: 1000px;
    margin: auto;
}

.multimarkdown-preview:after,.multimarkdown-preview:before {
    content: "";
    display: table
}

.multimarkdown-preview:after {
    clear: both
}

.multimarkdown-preview>:first-child {
    margin-top: 0!important
}

.multimarkdown-preview>:last-child {
    margin-bottom: 0!important
}

.multimarkdown-preview a:not([href]) {
    color: inherit;
    text-decoration: none
}

.multimarkdown-preview .absent {
    color: #cb2431
}

.multimarkdown-preview .anchor {
    float: left;
    line-height: 1;
    margin-left: -20px;
    padding-right: 4px
}

.multimarkdown-preview .anchor:focus {
    outline: none
}

.multimarkdown-preview blockquote,.multimarkdown-preview dl,.multimarkdown-preview ol,.multimarkdown-preview p,.multimarkdown-preview pre,.multimarkdown-preview table,.multimarkdown-preview ul {
    margin-bottom: 16px;
    margin-top: 0
}

.multimarkdown-preview hr {
    background-color: #e1e4e8;
    border: 0;
    height: .25em;
    margin: 24px 0;
    padding: 0
}

.multimarkdown-preview blockquote {
    border-left: .25em solid #dfe2e5;
    color: #6a737d;
    padding: 0 1em
}

.multimarkdown-preview blockquote>:first-child {
    margin-top: 0
}

.multimarkdown-preview blockquote>:last-child {
    margin-bottom: 0
}

.multimarkdown-preview kbd {
    background-color: #fafbfc;
    border: 1px solid #c6cbd1;
    border-bottom-color: #959da5;
    border-radius: 3px;
    box-shadow: inset 0 -1px 0 #959da5;
    color: #444d56;
    display: inline-block;
    font-size: 11px;
    line-height: 10px;
    padding: 3px 5px;
    vertical-align: middle
}

.multimarkdown-preview h1,.multimarkdown-preview h2,.multimarkdown-preview h3,.multimarkdown-preview h4,.multimarkdown-preview h5,.multimarkdown-preview h6 {
    font-weight: 600;
    line-height: 1.25;
    margin-bottom: 16px;
    margin-top: 24px
}

.multimarkdown-preview h1 .octicon-link,.multimarkdown-preview h2 .octicon-link,.multimarkdown-preview h3 .octicon-link,.multimarkdown-preview h4 .octicon-link,.multimarkdown-preview h5 .octicon-link,.multimarkdown-preview h6 .octicon-link {
    color: #1b1f23;
    vertical-align: middle;
    visibility: hidden
}

.multimarkdown-preview h1:hover .anchor,.multimarkdown-preview h2:hover .anchor,.multimarkdown-preview h3:hover .anchor,.multimarkdown-preview h4:hover .anchor,.multimarkdown-preview h5:hover .anchor,.multimarkdown-preview h6:hover .anchor {
    text-decoration: none
}

.multimarkdown-preview h1:hover .anchor .octicon-link,.multimarkdown-preview h2:hover .anchor .octicon-link,.multimarkdown-preview h3:hover .anchor .octicon-link,.multimarkdown-preview h4:hover .anchor .octicon-link,.multimarkdown-preview h5:hover .anchor .octicon-link,.multimarkdown-preview h6:hover .anchor .octicon-link {
    visibility: visible
}

.multimarkdown-preview h1 code,.multimarkdown-preview h1 tt,.multimarkdown-preview h2 code,.multimarkdown-preview h2 tt,.multimarkdown-preview h3 code,.multimarkdown-preview h3 tt,.multimarkdown-preview h4 code,.multimarkdown-preview h4 tt,.multimarkdown-preview h5 code,.multimarkdown-preview h5 tt,.multimarkdown-preview h6 code,.multimarkdown-preview h6 tt {
    font-size: inherit
}

.multimarkdown-preview h1 {
    font-size: 2em
}

.multimarkdown-preview h1,.multimarkdown-preview h2 {
    border-bottom: 1px solid #eaecef;
    padding-bottom: .3em
}

.multimarkdown-preview h2 {
    font-size: 1.5em
}

.multimarkdown-preview h3 {
    font-size: 1.25em
}

.multimarkdown-preview h4 {
    font-size: 1em
}

.multimarkdown-preview h5 {
    font-size: .875em
}

.multimarkdown-preview h6 {
    color: #6a737d;
    font-size: .85em
}

.multimarkdown-preview ol,.multimarkdown-preview ul {
    padding-left: 2em
}

.multimarkdown-preview ol.no-list,.multimarkdown-preview ul.no-list {
    list-style-type: none;
    padding: 0
}

.multimarkdown-preview ol ol,.multimarkdown-preview ol ul,.multimarkdown-preview ul ol,.multimarkdown-preview ul ul {
    margin-bottom: 0;
    margin-top: 0
}

.multimarkdown-preview li {
    word-wrap: break-all
}

.multimarkdown-preview li>p {
    margin-top: 16px
}

.multimarkdown-preview li+li {
    margin-top: .25em
}

.multimarkdown-preview dl {
    padding: 0
}

.multimarkdown-preview dl dt {
    font-size: 1em;
    font-style: italic;
    font-weight: 600;
    margin-top: 16px;
    padding: 0
}

.multimarkdown-preview dl dd {
    margin-bottom: 16px;
    padding: 0 16px
}

.multimarkdown-preview table {
    display: block;
    overflow: auto;
    width: 100%
}

.multimarkdown-preview table th {
    font-weight: 600
}

.multimarkdown-preview table td,.multimarkdown-preview table th {
    border: 1px solid #dfe2e5;
    padding: 6px 13px
}

.multimarkdown-preview table tr {
    background-color: #fff;
    border-top: 1px solid #c6cbd1
}

.multimarkdown-preview table tr:nth-child(2n) {
    background-color: #f6f8fa
}

.multimarkdown-preview table img {
    background-color: initial
}

.multimarkdown-preview img {
    background-color: #fff;
    box-sizing: initial;
    max-width: 100%
}

.multimarkdown-preview img[align=right] {
    padding-left: 20px
}

.multimarkdown-preview img[align=left] {
    padding-right: 20px
}

.multimarkdown-preview .emoji {
    background-color: initial;
    max-width: none;
    vertical-align: text-top
}

.multimarkdown-preview span.frame {
    display: block;
    overflow: hidden
}

.multimarkdown-preview span.frame>span {
    border: 1px solid #dfe2e5;
    display: block;
    float: left;
    margin: 13px 0 0;
    overflow: hidden;
    padding: 7px;
    width: auto
}

.multimarkdown-preview span.frame span img {
    display: block;
    float: left
}

.multimarkdown-preview span.frame span span {
    clear: both;
    color: #24292e;
    display: block;
    padding: 5px 0 0
}

.multimarkdown-preview span.align-center {
    clear: both;
    display: block;
    overflow: hidden
}

.multimarkdown-preview span.align-center>span {
    display: block;
    margin: 13px auto 0;
    overflow: hidden;
    text-align: center
}

.multimarkdown-preview span.align-center span img {
    margin: 0 auto;
    text-align: center
}

.multimarkdown-preview span.align-right {
    clear: both;
    display: block;
    overflow: hidden
}

.multimarkdown-preview span.align-right>span {
    display: block;
    margin: 13px 0 0;
    overflow: hidden;
    text-align: right
}

.multimarkdown-preview span.align-right span img {
    margin: 0;
    text-align: right
}

.multimarkdown-preview span.float-left {
    display: block;
    float: left;
    margin-right: 13px;
    overflow: hidden
}

.multimarkdown-preview span.float-left span {
    margin: 13px 0 0
}

.multimarkdown-preview span.float-right {
    display: block;
    float: right;
    margin-left: 13px;
    overflow: hidden
}

.multimarkdown-preview span.float-right>span {
    display: block;
    margin: 13px auto 0;
    overflow: hidden;
    text-align: right
}

.multimarkdown-preview code,.multimarkdown-preview tt {
    font-family: consolas;
    background-color: rgba(27,31,35,.05);
    border-radius: 3px;
    font-size: 85%;
    margin: 0;
    padding: .2em .4em
}

.multimarkdown-preview code br,.multimarkdown-preview tt br {
    display: none
}

.multimarkdown-preview del code {
    text-decoration: inherit
}

.multimarkdown-preview pre {
    word-wrap: normal
}

.multimarkdown-preview pre>code {
    font-family: consolas;
    background: transparent;
    border: 0;
    font-size: 100%;
    margin: 0;
    padding: 0;
    white-space: pre;
    word-break: normal
}

.multimarkdown-preview .highlight {
    margin-bottom: 16px
}

.multimarkdown-preview .highlight pre {
    margin-bottom: 0;
    word-break: normal
}

.multimarkdown-preview .highlight pre,.multimarkdown-preview pre {
    background-color: #f6f8fa;
    border-radius: 3px;
    font-size: 85%;
    line-height: 1.45;
    overflow: auto;
    padding: 16px
}

.multimarkdown-preview pre code,.multimarkdown-preview pre tt {
    background-color: initial;
    border: 0;
    display: inline;
    line-height: inherit;
    margin: 0;
    max-width: auto;
    overflow: visible;
    padding: 0;
    word-wrap: normal
}

.multimarkdown-preview .csv-data td,.multimarkdown-preview .csv-data th {
    font-size: 12px;
    line-height: 1;
    overflow: hidden;
    padding: 5px;
    text-align: left;
    white-space: nowrap
}

.multimarkdown-preview .csv-data .blob-num {
    background: #fff;
    border: 0;
    padding: 10px 8px 9px;
    text-align: right
}

.multimarkdown-preview .csv-data tr {
    border-top: 0
}

.multimarkdown-preview .csv-data th {
    background: #f6f8fa;
    border-top: 0;
    font-weight: 600
}
</style>
<script src="https://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/mermaid@8.4.0/dist/mermaid.min.js"></script>
<script>mermaid.initialize({startOnLoad:true});</script>
<script>
$(document).ready(function(){
	$('pre').has('code.mermaid').css('text-align', 'center');
	$('pre').has('code.mermaid').css('background-color', '#ffffff');
});
</script></head>
<body class="multimarkdown-preview">
<h1 id="微众银行人脸动作活体文档-face-live-action"><a href="#微众银行人脸动作活体文档-face-live-action" name="微众银行人脸动作活体文档-face-live-action"></a>微众银行人脸动作活体文档 FACE-LIVE-ACTION</h1>
<blockquote>
  <p>动作活体检测</p>
</blockquote>
<p>version: v0.6.x(SDK版本号)</p>
<h2 id="changelist"><a href="#changelist" name="changelist"></a>CHANGELIST</h2>
<h3 id="v023"><a href="#v023" name="v023"></a>v0.2.3</h3>
<ul>
  <li>[更新算法] 更新摇头和点头检测算法</li>
</ul>
<h2 id="调用流程"><a href="#调用流程" name="调用流程"></a>调用流程</h2>
<pre><code class="mermaid">graph TD
start((开始)) --&gt; auth(授权CommonInterface.initAuth)
auth --&gt; construct(实例初始化FaceLiveAction.FaceLiveAction)
construct --&gt; evaluate(动作活体检测)
evaluate --&gt; destroy(释放实例实例初始化FaceLiveAction.destroy)
destroy --&gt; finish((结束))
</code></pre>
<h2 id="接口---java"><a href="#接口---java" name="接口---java"></a>接口 - Java</h2>
<p>package: webank.com.faceliveaction.FaceLiveAction</p>
<h3 id="通用接口"><a href="#通用接口" name="通用接口"></a>通用接口</h3>
<ul>
  <li class="p">
    <p class="p">FaceLiveAction();</p>
    <ul>
      <li>@brief 实例初始化</li>
    </ul>
  </li>
  <li class="p">
    <p class="p">void destroy();</p>
    <ul>
      <li>@brief 每一个 new 出的实例，都需要明确的 destroy()。防止内存泄漏。</li>
    </ul>
  </li>
  <li class="p">
    <p class="p">static String getVersion();</p>
    <ul>
      <li>@brief 获得 SDK 的版本号，如<code>v3.0.0</code></li>
      <li>@return 版本号</li>
    </ul>
  </li>
</ul>
<h3 id="功能接口多线程不安全"><a href="#功能接口多线程不安全" name="功能接口多线程不安全"></a>功能接口（<strong>多线程不安全</strong>）</h3>
<ul>
  <li class="p">
    <p class="p">int Blink(boolean has_face, int[] face_bbox, float[] face_landmarks)</p>
    <ul>
      <li>@brief 是否眨眼，(<strong>连续视频中每帧都需要调用此函数，保证输入人脸为同一个人脸，当人脸切换时应调用<code>Reset(&quot;blink&quot;)</code>函数重置</strong>)</li>
      <li>@param <code>has_face</code> 当前帧是否有人脸</li>
      <li>@param <code>face_bbox</code> 人脸框(x1, y1, x2, y2)坐标。<code>has_face</code>为false时， 输入<code>null</code>；否则，输入4维数组</li>
      <li>@param <code>face_landmarks</code> 人脸106关键点位置。<code>has_face</code>为false时， 输入<code>null</code>；否则，输入212维数组</li>
      <li>@return 是否眨眼，0表示眨眼</li>
    </ul>
  </li>
  <li class="p">
    <p class="p">int Mouth(boolean has_face, int[] face_bbox, float[] face_landmarks)</p>
    <ul>
      <li>@brief 是否张嘴，(<strong>连续视频中每帧都需要调用此函数，保证输入人脸为同一个人脸，当人脸切换时应调用<code>Reset(&quot;mouth&quot;)</code>函数重置</strong>)</li>
      <li>@param <code>has_face</code> 当前帧是否有人脸</li>
      <li>@param <code>face_bbox</code> 人脸框(x1, y1, x2, y2)坐标。<code>has_face</code>为false时， 输入<code>null</code>；否则，输入4维数组</li>
      <li>@param <code>face_landmarks</code> 人脸106关键点位置。<code>has_face</code>为false时， 输入<code>null</code>；否则，输入212维数组</li>
      <li>@return 是否张嘴，0表示张嘴</li>
    </ul>
  </li>
  <li class="p">
    <p class="p">int Shake(boolean has_face, float yaw)</p>
    <ul>
      <li>@brief 是否摇头，(<strong>连续视频中每帧都需要调用此函数，保证输入人脸为同一个人脸，当人脸切换时应调用<code>Reset(&quot;shake&quot;)</code>函数重置</strong>)</li>
      <li>@param <code>has_face</code> 当前帧是否有人脸</li>
      <li>@param <code>yaw</code>度数， <code>has_face</code>为false时， 输入0</li>
      <li>@return 是否摇头，0表示摇头</li>
    </ul>
  </li>
  <li class="p">
    <p class="p">int Nod(boolean has_face, float pitch)</p>
    <ul>
      <li>@brief 是否点头，(<strong>连续视频中每帧都需要调用此函数，保证输入人脸为同一个人脸，当人脸切换时应调用<code>Reset(&quot;nod&quot;)</code>函数重置</strong>)</li>
      <li>@param <code>has_face</code> 当前帧是否有人脸</li>
      <li>@param <code>pitch</code>度数， <code>has_face</code>为false时， 输入0</li>
      <li>@return 是否点头，0表示点头</li>
    </ul>
  </li>
  <li class="p">
    <p class="p">int Reset(String mode)</p>
    <ul>
      <li>@brief 重置状态</li>
      <li>@param <code>mode</code> 可取<code>blink</code>, <code>mouth</code>, <code>shake</code>, <code>nod</code> 和 <code>all</code>, 分别表示重置相应接口状态，<code>all</code>表示重置所有接口状态</li>
      <li>@return 是否重置成功，0表示成功，其他表示失败（输入字符串错误）</li>
    </ul>
  </li>
</ul>
</body>
</html>
